FROM opensuse/tumbleweed AS opensuse
ARG CRYSTAL_VERSION
ARG CRYSTAL_RELEASE=1
RUN zypper in -y rpm-build rpm-devel which libevent-devel pcre-devel curl gcc
RUN curl -LO https://github.com/crystal-lang/crystal/releases/download/${CRYSTAL_VERSION}/crystal-${CRYSTAL_VERSION}-${CRYSTAL_RELEASE}.x86_64.rpm && rpm -ivh crystal-${CRYSTAL_VERSION}-${CRYSTAL_RELEASE}.x86_64.rpm
WORKDIR /work
